{% extends "base.html" %}
{% load static %}

{% block content %}
<style>
    /* Center alignment styles */
    .content-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 30px;
        text-align: center; /* This will center all text by default */
    }
    
    /* Override for specific elements if needed */
    .section-content {
        font-size: 0.9rem;
        padding: 0 15px;
        max-width: 800px;
        margin: 0 auto; /* Center the content block */
        text-align: center; /* Center the text */
    }
    
    /* Animation styles */
    @keyframes slideInFromLeft {
        0% {
            transform: translateX(-100%);
            opacity: 0;
        }
        100% {
            transform: translateX(0);
            opacity: 1;
        }
    }
    
    .section-title-container {
        display: inline-block;
        padding: 0.5rem 2rem;
        background: #7A0213;
        border-radius: 50px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        animation: slideInFromLeft 0.4s ease-out forwards;
        opacity: 0;
        text-align: center; /* Ensures text is centered in the oval */
    }
    
    .section-title {
        font-size: 1rem;
        color: white;
        margin: 0;
    }
    
    /* Center all text content */
    .policy-content p,
    .policy-content ul,
    .policy-content ol,
    .policy-content li,
    .section-content {
        text-align: center;
    }
    
    /* Center buttons */
    .text-center {
        display: flex;
        justify-content: center;
        gap: 10px;
        flex-wrap: wrap;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .content-container {
            padding: 0 15px;
        }
        .section-content {
            padding: 0;
            max-width: 100%;
        }
        .section-title-container {
            padding: 0.5rem 1.5rem;
        }
    }
    
    /* Section spacing */
    .mb-5 {
        margin-bottom: 3rem !important;
        width: 100%;
    }
    
    hr {
        width: 80%;
        margin: 2rem auto;
        opacity: 0.2;
    }

.core-values-content {
    font-style: italic;
    text-align: center;
    margin: 1.5rem auto;
    max-width: 300px;
    white-space: pre-line; /* This preserves your line breaks */
}

/* Or if you prefer the spacing between items more pronounced: */
.core-values-content-alt {
    font-style: italic;
    text-align: center;
    margin: 1.5rem auto;
    max-width: 300px;
}

.core-values-content-alt p {
    margin: 0.8rem 0; /* Adds space between paragraphs */
}
</style>
<div class="content-container">
    <div class="row">
        <div class="col-12">
            <!-- Vision Section -->
            {% for vision in vision %}
            <div class="mb-5">
                <!-- Oval Title Container with Animation -->
                <div class="text-center my-4">
                    <div class="section-title-container vision-title">
                        <h2 class="section-title">{{ vision.title }}</h2>
                    </div>
                </div>
                
                <!-- Content Section -->
                <div class="section-content text-justify"> 
                    {{ vision.content|safe }}
                </div>
                
                <!-- Buttons -->
                <div class="text-center mt-4">
                    {% if vision.file %}
                    <a href="{{ vision.file.url }}" class="btn btn-primary" download>
                        <i class="fas fa-download me-1"></i> Download File
                    </a>
                    {% endif %}
                    {% if vision.link %}
                    <a href="{{ vision.link }}" class="btn btn-outline-secondary ms-2" target="_blank">
                        <i class="fas fa-external-link-alt me-1"></i> Related Link
                    </a>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
            
            <!-- Mission Section -->
            {% for mission in mission %}
            <div class="mb-5"><hr>
                <!-- Oval Title Container with Animation -->
                <div class="text-center my-4">
                    <div class="section-title-container mission-title">
                        <h2 class="section-title">{{ mission.title }}</h2>
                    </div>
                </div>
                
                <!-- Content Section -->
                <div class="section-content text-justify">
                    {{ mission.content|safe }}
                </div>
                
                <!-- Buttons -->
                <div class="text-center mt-4">
                    {% if mission.file %}
                    <a href="{{ mission.file.url }}" class="btn btn-primary" download>
                        <i class="fas fa-download me-1"></i> Download File
                    </a>
                    {% endif %}
                    {% if mission.link %}
                    <a href="{{ mission.link }}" class="btn btn-outline-secondary ms-2" target="_blank">
                        <i class="fas fa-external-link-alt me-1"></i> Related Link
                    </a>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
            
<!-- Core Values Section -->
{% for core_value in core_values %}
<div class="mb-5"><hr>
    <!-- Oval Title Container with Animation -->
    <div class="text-center my-4">
        <div class="section-title-container core-values-title">
            <h2 class="section-title">{{ core_value.title }}</h2>
        </div>
    </div>
    
    <!-- Content Section - Now with proper spacing AND centering -->
    <div class="core-values-content" style="
        font-style: italic;
        text-align: center;
        margin: 1.5rem auto;
        max-width: 300px;
    ">
        {{ core_value.content|linebreaks }}
    </div>
    
    <!-- Buttons -->
    <div class="text-center mt-4">
        {% if core_value.file %}
        <a href="{{ core_value.file.url }}" class="btn btn-primary" download>
            <i class="fas fa-download me-1"></i> Download File
        </a>
        {% endif %}
        {% if core_value.link %}
        <a href="{{ core_value.link }}" class="btn btn-outline-secondary ms-2" target="_blank">
            <i class="fas fa-external-link-alt me-1"></i> Related Link
        </a>
        {% endif %}
    </div>
</div>
{% endfor %}
            
            <!-- Mandate Section -->
            {% for mandate in mandate %}
            <div class="mb-5"><hr>
                <!-- Oval Title Container with Animation -->
                <div class="text-center my-4">
                    <div class="section-title-container mandate-title">
                        <h2 class="section-title">{{ mandate.title }}</h2>
                    </div>
                </div>
                
                <!-- Content Section -->
                <div class="section-content text-justify">
                    {{ mandate.content|linebreaks }}
                </div>
                
                <!-- Buttons -->
                <div class="text-center mt-4">
                    {% if mandate.file %}
                    <a href="{{ mandate.file.url }}" class="btn btn-primary" download>
                        <i class="fas fa-download me-1"></i> Download File
                    </a>
                    {% endif %}
                    {% if mandate.link %}
                    <a href="{{ mandate.link }}" class="btn btn-outline-secondary ms-2" target="_blank">
                        <i class="fas fa-external-link-alt me-1"></i> Related Link
                    </a>
                    {% endif %}
                </div>
            </div>
            {% endfor %}

            <!-- Quality Policy Section -->
            {% if quality_policy %}
                {% for policy in quality_policy %}
                <div class="mb-5"><hr>
                    <!-- Oval Title Container with Animation -->
                    <div class="text-center my-4">
                        <div class="section-title-container quality-policy-title">
                            <h2 class="section-title">{{ policy.title|default:"Quality Policy" }}</h2>
                        </div>
                    </div>
                    
                    <!-- Content Section -->
                    <div class="section-content text-justify">
                        {{ policy.content|linebreaks|default:"No content available." }}
                    </div>
                    
                    <!-- Buttons -->
                    <div class="text-center mt-4">
                        {% if policy.file %}
                        <a href="{{ policy.file.url }}" class="btn btn-primary" download>
                            <i class="fas fa-download me-1"></i> Download Policy
                        </a>
                        {% endif %}
                        {% if policy.link %}
                        <a href="{{ policy.link }}" class="btn btn-outline-secondary ms-2" target="_blank">
                            <i class="fas fa-external-link-alt me-1"></i> Related Link
                        </a>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>
</div>

<script>
    // This ensures animations play when navigating back to the page
    document.addEventListener('DOMContentLoaded', function() {
        const animatedElements = document.querySelectorAll('.section-title-container');
        animatedElements.forEach(el => {
            // Reset animation
            el.style.animation = 'none';
            void el.offsetWidth; // Trigger reflow
            el.style.animation = null;
        });
    });
</script>
{% endblock %}